/*
 *             Copyright (c) 2016 - 2022, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
import{Plugin as _0x3c556b}from'ckeditor5/src/core';import{ButtonView as _0x3b7db8,View as _0xffe09d,Notification as _0x36d9e5}from'ckeditor5/src/ui';import _0x277453 from'./exportwordcommand';import _0x19bb7d from'../theme/icons/exportword.svg';import'../theme/exportword.css';export default class c extends _0x3c556b{static get['pluginName'](){return'ExportWord';}static get['requires'](){return['CloudServices',_0x36d9e5];}['init'](){const _0x32b276=this['editor'],t=_0x32b276['t'],_0x13e266=_0x32b276['config']['get']('exportWord')||{};_0x32b276['commands']['add']('exportWord',new _0x277453(_0x32b276)),_0x32b276['ui']['componentFactory']['add']('exportWord',_0x52f06a=>{const _0x3aa480=_0x32b276['commands']['get']('exportWord'),_0xa3925b=new _0x3b7db8(_0x52f06a);_0xa3925b['set']({'label':t('Export\x20to\x20Word'),'icon':_0x19bb7d,'tooltip':!0x0}),_0xa3925b['bind']('isOn','isEnabled')['to'](_0x3aa480,'isBusy','isEnabled'),_0xa3925b['extendTemplate']({'attributes':{'class':[_0xa3925b['bindTemplate']['if']('isOn','ck-exportword_status-pending')]}});const _0x2bf35a=new _0xffe09d();return _0x2bf35a['setTemplate']({'tag':'span','attributes':{'class':['ck','ck-exportword__spinner-container']},'children':[{'tag':'span','attributes':{'class':['ck','ck-exportword__spinner']}}]}),_0xa3925b['children']['add'](_0x2bf35a),this['listenTo'](_0xa3925b,'execute',()=>{_0x32b276['execute']('exportWord',_0x13e266),_0x32b276['editing']['view']['focus']();}),_0xa3925b;});const _0x13ae56=_0x32b276['plugins']['get']('CloudServices');if(!0x1===_0x13e266['tokenUrl'])this['_token']=null;else{if(_0x13e266['tokenUrl'])return _0x13ae56['registerTokenUrl'](_0x13e266['tokenUrl'])['then'](_0x4aa396=>{this['_token']=_0x4aa396;});this['_token']=_0x13ae56['token'];}}}